@model Funtility.Areas.TextAdventure.Models.TextAdventureGame

@{
    ViewBag.Title = "Text Adventure - " + @Model.Name;
}

<link href="~/Areas/TextAdventure/Content/TextAdventure.css?rev=5" rel="stylesheet" />

<div id="game-main" class="gm-main">
    
    <div id="game-header" class="gm-header">

        <div class="gm-dropdown">
            <button class="gm-header-button gm-dropdown-button dropdown-button" onclick="ToggleCssClass('fileMenu','show');">File</button>
            <div id="fileMenu" class="dropdown-content gm-dropdown-content">
                <a href="#" title="Create your own Text Adventure game!">Create</a>
                <a href="#" title="Load a work in progress and keep on creating!">Edit</a>
                <a href="#" title="Play a game that someone has created.">Play</a>
            </div>
        </div>

        <div class="gm-title">@Model.Name</div>

    </div>

    <div id="game-area" class="gm-area">

        <div id="modal"></div>

        @Html.HiddenFor(model => model.ID)
        @Html.HiddenFor(model => model.UserID)

        <div>
            @{ var published = "";
                if (Model.Published == 1) { published = "checked"; } }
            <input type="checkbox"
                   name="Published"
                   @published />
            <span> Published</span>
        </div>

        <div style="height:500px;">
            @Html.LabelFor(model => model.Name, htmlAttributes: new { @class = "" })
            @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "", @id = "txbxGameName" } })
        </div>

        <div style="height:500px;">
            @Html.LabelFor(model => model.Description, htmlAttributes: new { @class = "" })
            @Html.EditorFor(model => model.Description, new { htmlAttributes = new { @class = "" } })
        </div>

        <div style="height:500px;">
            @Html.LabelFor(model => model.GameData, htmlAttributes: new { @class = "control-label col-md-2" })
            @Html.EditorFor(model => model.GameData, new { htmlAttributes = new { @class = "form-control" } })
        </div>

    </div>

</div>

@* Text Adventure JS files *@
<script src="~/Areas/TextAdventure/Scripts/Area.js?rev=4"></script>
<script src="~/Areas/TextAdventure/Scripts/Item.js?rev=4"></script>
<script src="~/Areas/TextAdventure/Scripts/Player.js?rev=4"></script>
<script src="~/Areas/TextAdventure/Scripts/UI_shared.js?rev=4"></script>
<script src="~/Areas/TextAdventure/Scripts/Way.js?rev=4"></script>

@* Must call all other js files first *@
<script src="~/Areas/TextAdventure/Scripts/TextAdventure.js?rev=4"></script>

@{var gameData = Model.GameData;}

<script>
    window.addEventListener('resize', function () {
        ResizeGameAreaHeight();
    });
    InitTextAdventureGame('@gameData');
</script>